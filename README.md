# Сервис назначения ревьюеров для pull-request'ов
Техническое задание для стажировки avito

## Инструкция по запуску

Склонируйте репозиторий и перейдите в директорию проекта

```
git clone git@github.com:rottenfishh/pr-assignment.git

cd pr-assignment
```
## Локальный запуск: 

Используйте Makefile: `make`

Сервис будет доступен по адресу  `http://localhost:8080/swagger/index.html#/`

Там вы сможете посмотреть API endpoints и отправлять HTTP запросы, используя swagger
# Docker
Исполните команду, чтобы поднять контейнеры приложения

`docker-compose up`

Сервис также будет доступен по адресу `http://localhost:8080/swagger/index.html#/`

# Проблемы - их решения

1) Согласно спецификации, у пользователей есть поле team_name. Чтобы дать возможность будущего расширения, а также получить удобную проверку наличия команды/ легкий механизм изменения названий, я выделила сущность команды и создала таблицу teams. Все пользователи ссылаются в поле team_name на id в этой таблице, уже по этому id хранится название их команды
2) Под массовой деактивацией пользователей, я реализовала деактивацию всех пользователей в конкретной команде. `/team/kill`
3) Безопасная перезначаемость пр - я реализовала механизм, когда при деактивации пользователя, мы стараемся переназначить ревьюемые им пулл реквесты на кого-то другого. В случае, если других кандидатов нет, пользователь остается на пулл реквесте. Лучше пользователь, который может ожить, чем никто, и потеря связи, кто был на этом пулл реквесте ранее.
# Доп фичи
1) Конфигурация линтера(достаточно базовая) .golangci.yaml
2) Результаты нагрузочного тестирования в таблице в load_test.md
3) Статистика в endpoints по пути /stat
